{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst datetimePicker = document.querySelector(\"#datetime-picker\");\nconst startButton = document.querySelector(\"[data-start]\");\nconst daysSpan = document.querySelector(\"[data-days]\");\nconst hoursSpan = document.querySelector(\"[data-hours]\");\nconst minutesSpan = document.querySelector(\"[data-minutes]\");\nconst secondsSpan = document.querySelector(\"[data-seconds]\");\n\nlet countdownInterval;\n\nfunction addLeadingZero(value) {\n  return value < 10 ? \"0\" + value : value;\n}\n\nfunction updateTimerDisplay(days, hours, minutes, seconds) {\n  daysSpan.textContent = addLeadingZero(days);\n  hoursSpan.textContent = addLeadingZero(hours);\n  minutesSpan.textContent = addLeadingZero(minutes);\n  secondsSpan.textContent = addLeadingZero(seconds);\n}\n\nfunction calculateTimeDifference(selectedDate) {\n  const currentDate = new Date();\n  const timeDifference = selectedDate.getTime() - currentDate.getTime();\n  \n  if (timeDifference <= 0) {\n    clearInterval(countdownInterval);\n    iziToast.error({\n      title: \"Error\",\n      message: \"Time has already passed\",\n    });\n    startButton.disabled = true;\n    return;\n  }\n\n  const totalSeconds = Math.floor(timeDifference / 1000);\n  const days = Math.floor(totalSeconds / (3600 * 24));\n  const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);\n  const minutes = Math.floor((totalSeconds % 3600) / 60);\n  const seconds = Math.floor(totalSeconds % 60);\n\n  updateTimerDisplay(days, hours, minutes, seconds);\n}\n\ndatetimePicker.addEventListener(\"change\", () => {\n  const selectedDate = new Date(datetimePicker.value);\n\n  if (selectedDate <= new Date()) {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Please choose a date in the future\",\n    });\n    startButton.disabled = true; \n  } else {\n    startButton.disabled = false; \n  }\n});\n\n\nstartButton.addEventListener(\"click\", () => {\n  const selectedDate = new Date(datetimePicker.value);\n\n  if (selectedDate <= new Date()) {\n    iziToast.error({\n      title: \"Error\",\n      message: \"Please choose a date in the future\",\n    });\n    startButton.disabled = true; \n    return;\n  }\n\n  startButton.disabled = true;\n\n  countdownInterval = setInterval(() => {\n    calculateTimeDifference(selectedDate);\n  }, 1000);\n\n  calculateTimeDifference(selectedDate);\n});\n\nflatpickr(datetimePicker, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n});\n"],"names":["datetimePicker","startButton","daysSpan","hoursSpan","minutesSpan","secondsSpan","countdownInterval","addLeadingZero","value","updateTimerDisplay","days","hours","minutes","seconds","calculateTimeDifference","selectedDate","currentDate","timeDifference","iziToast","totalSeconds","flatpickr"],"mappings":"2GAKA,MAAMA,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EAEJ,SAASC,EAAeC,EAAO,CAC7B,OAAOA,EAAQ,GAAK,IAAMA,EAAQA,CACpC,CAEA,SAASC,EAAmBC,EAAMC,EAAOC,EAASC,EAAS,CACzDX,EAAS,YAAcK,EAAeG,CAAI,EAC1CP,EAAU,YAAcI,EAAeI,CAAK,EAC5CP,EAAY,YAAcG,EAAeK,CAAO,EAChDP,EAAY,YAAcE,EAAeM,CAAO,CAClD,CAEA,SAASC,EAAwBC,EAAc,CAC7C,MAAMC,EAAc,IAAI,KAClBC,EAAiBF,EAAa,QAAS,EAAGC,EAAY,QAAO,EAEnE,GAAIC,GAAkB,EAAG,CACvB,cAAcX,CAAiB,EAC/BY,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBACf,CAAK,EACDjB,EAAY,SAAW,GACvB,MACD,CAED,MAAMkB,EAAe,KAAK,MAAMF,EAAiB,GAAI,EAC/CP,EAAO,KAAK,MAAMS,GAAgB,KAAO,GAAG,EAC5CR,EAAQ,KAAK,MAAOQ,GAAgB,KAAO,IAAO,IAAI,EACtDP,EAAU,KAAK,MAAOO,EAAe,KAAQ,EAAE,EAC/CN,EAAU,KAAK,MAAMM,EAAe,EAAE,EAE5CV,EAAmBC,EAAMC,EAAOC,EAASC,CAAO,CAClD,CAEAb,EAAe,iBAAiB,SAAU,IAAM,CACzB,IAAI,KAAKA,EAAe,KAAK,GAE9B,IAAI,MACtBkB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACf,CAAK,EACDjB,EAAY,SAAW,IAEvBA,EAAY,SAAW,EAE3B,CAAC,EAGDA,EAAY,iBAAiB,QAAS,IAAM,CAC1C,MAAMc,EAAe,IAAI,KAAKf,EAAe,KAAK,EAElD,GAAIe,GAAgB,IAAI,KAAQ,CAC9BG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACf,CAAK,EACDjB,EAAY,SAAW,GACvB,MACD,CAEDA,EAAY,SAAW,GAEvBK,EAAoB,YAAY,IAAM,CACpCQ,EAAwBC,CAAY,CACrC,EAAE,GAAI,EAEPD,EAAwBC,CAAY,CACtC,CAAC,EAEDK,EAAUpB,EAAgB,CACxB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,CACnB,CAAC"}